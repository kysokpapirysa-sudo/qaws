-- Главное окно
local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", player.PlayerGui)

local window = Instance.new("Frame", gui)
window.Size = UDim2.new(0, 260, 0, 300)
window.Position = UDim2.new(0, 10, 1, -310)
window.BackgroundTransparency = 0.3
window.BackgroundColor3 = Color3.fromRGB(20, 20, 20)

-- Заголовок
local titleBar = Instance.new("Frame", window)
titleBar.Size = UDim2.new(1, 0, 0, 35)
titleBar.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
titleBar.BackgroundTransparency = 0.2

local title = Instance.new("TextLabel", titleBar)
title.Size = UDim2.new(1, 0, 1, 0)
title.BackgroundTransparency = 1
title.Text = "Virta Z"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.Fantasy
title.TextSize = 20

-- Координаты над окном
local coords = Instance.new("TextLabel", gui)
coords.Size = UDim2.new(0, 260, 0, 20)
coords.Position = window.Position - UDim2.new(0, 0, 0, 20)
coords.BackgroundTransparency = 1
coords.TextColor3 = Color3.new(0, 0, 0)
coords.Font = Enum.Font.Fantasy
coords.TextSize = 14

-- Обновление координат
task.spawn(function()
	while task.wait(0.2) do
		if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
			local pos = player.Character.HumanoidRootPart.Position
			coords.Text = string.format("X: %.1f | Y: %.1f | Z: %.1f", pos.X, pos.Y, pos.Z)
		end
	end
end)

-- Контейнеры вкладок
local mainTab = Instance.new("Frame", window)
mainTab.Size = UDim2.new(1, 0, 1, -35)
mainTab.Position = UDim2.new(0, 0, 0, 35)
mainTab.BackgroundTransparency = 1

local posesTab = mainTab:Clone()
posesTab.Parent = window
posesTab.Visible = false

local advantagesTab = mainTab:Clone()
advantagesTab.Parent = window
advantagesTab.Visible = false

local teleportTab = mainTab:Clone()
teleportTab.Parent = window
teleportTab.Visible = false

-- Функция переключения вкладок
local function switchTab(from, to)
	from.Visible = false
	to.Visible = true
end

-- Кнопки главного меню
local function makeButton(parent, text, y, callback)
	local btn = Instance.new("TextButton", parent)
	btn.Size = UDim2.new(1, -20, 0, 40)
	btn.Position = UDim2.new(0, 10, 0, y)
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.BackgroundTransparency = 0.2
	btn.Text = text
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.Fantasy
	btn.TextSize = 18
	btn.MouseButton1Click:Connect(callback)
	return btn
end

makeButton(mainTab, "Позиции персонажа", 10, function()
	switchTab(mainTab, posesTab)
end)

makeButton(mainTab, "Преимущества", 60, function()
	switchTab(mainTab, advantagesTab)
end)

makeButton(mainTab, "Телепорт", 110, function()
	switchTab(mainTab, teleportTab)
end)

-- Кнопка "Назад"
local function addBackButton(tab)
	local back = makeButton(tab, "Назад", 10, function()
		switchTab(tab, mainTab)
	end)
	return back
end

addBackButton(posesTab)
addBackButton(advantagesTab)
addBackButton(teleportTab)

-- Вкладка "Позиции персонажа"
makeButton(posesTab, "T-поза", 60, function()
	local hum = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
	if hum then
		local anim = Instance.new("Animation")
		anim.AnimationId = "rbxassetid://148840371" -- T-поза
		local track = hum:FindFirstChildOfClass("Animator"):LoadAnimation(anim)
		track:Play()
	end
end)

-- Вкладка "Телепорт"
local userBox = Instance.new("TextBox", teleportTab)
userBox.Size = UDim2.new(1, -50, 0, 30)
userBox.Position = UDim2.new(0, 10, 0, 60)
userBox.PlaceholderText = "Ник игрока..."
userBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
userBox.TextColor3 = Color3.new(1, 1, 1)

local goBtn = Instance.new("TextButton", teleportTab)
goBtn.Size = UDim2.new(0, 30, 0, 30)
goBtn.Position = UDim2.new(1, -40, 0, 60)
goBtn.BackgroundColor3 = Color3.fromRGB(0, 100, 255)
goBtn.Text = ">"
goBtn.TextColor3 = Color3.new(1, 1, 1)
goBtn.MouseButton1Click:Connect(function()
	for _, plr in ipairs(game.Players:GetPlayers()) do
		if string.find(string.lower(plr.Name), string.lower(userBox.Text)) then
			if plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
				player.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame + Vector3.new(2, 0, 0)
			end
		end
	end
end)

local coordBox = Instance.new("TextBox", teleportTab)
coordBox.Size = UDim2.new(1, -50, 0, 30)
coordBox.Position = UDim2.new(0, 10, 0, 100)
coordBox.PlaceholderText = "X,Y,Z..."
coordBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
coordBox.TextColor3 = Color3.new(1, 1, 1)

local coordBtn = goBtn:Clone()
coordBtn.Parent = teleportTab
coordBtn.Position = UDim2.new(1, -40, 0, 100)
coordBtn.MouseButton1Click:Connect(function()
	local x, y, z = coordBox.Text:match("([^,]+),([^,]+),([^,]+)")
	if x and y and z then
		player.Character.HumanoidRootPart.CFrame = CFrame.new(tonumber(x), tonumber(y), tonumber(z))
	end
end)

makeButton(teleportTab, "На 4 блока вперед", 150, function()
	local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
	if hrp then
		hrp.CFrame = hrp.CFrame + hrp.CFrame.LookVector * 4
	end
end)
