local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local TweenService = game:GetService("TweenService")

-- Быстрая функция для UI
local function create(class, props, parent)
    local obj = Instance.new(class)
    for k,v in props do obj[k] = v end
    obj.Parent = parent
    return obj
end

-- ScreenGui
local gui = create("ScreenGui", {Name="MainGui", ResetOnSpawn=false}, playerGui)

-- Главное окно
local window = create("Frame", {
    Size=UDim2.new(0,300,0,200), Position=UDim2.new(0,10,1,-220),
    BackgroundColor3=Color3.new(1,1,1), BackgroundTransparency=0.5, BorderSizePixel=0
}, gui)

-- Верхняя плашка с градиентом
local top = create("Frame", {Size=UDim2.new(1,0,0,30), BorderSizePixel=0}, window)
local grad = Instance.new("UIGradient", top)
grad.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(128,0,0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0,0,0))
}
create("TextLabel", {
    Size=UDim2.new(1,0,1,0), BackgroundTransparency=1,
    Text="Virta Z", TextColor3=Color3.new(1,1,1),
    Font=Enum.Font.Fantasy, TextScaled=true
}, top)

-- Контейнер для кнопок
local content = create("Frame", {Size=UDim2.new(1,0,1,-30), Position=UDim2.new(0,0,0,30), BackgroundTransparency=1}, window)
local layout = Instance.new("UIListLayout", content)
layout.Padding = UDim.new(0,10)
layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
layout.VerticalAlignment = Enum.VerticalAlignment.Top

-- Кнопки меню
local function addBtn(txt)
    return create("TextButton", {
        Size=UDim2.new(0,200,0,40),
        BackgroundColor3=Color3.fromRGB(200,200,200),
        Text=txt, TextColor3=Color3.new(0,0,0),
        Font=Enum.Font.Fantasy, TextScaled=true
    }, content)
end

local posesBtn = addBtn("Позиции персонажа")
local perksBtn = addBtn("Преимущества")
local tpBtn = addBtn("Телепорт")

-- Шаблон вкладки
local function makeTab(title)
    local tab = create("Frame", {
        Size=window.Size, Position=window.Position,
        BackgroundColor3=Color3.new(1,1,1), BackgroundTransparency=0.5,
        BorderSizePixel=0, Visible=false, Parent=gui
    })
    create("TextButton", {
        Size=UDim2.new(0,30,0,30), Position=UDim2.new(0,5,0,5),
        BackgroundColor3=Color3.fromRGB(150,150,150),
        Text="<", TextColor3=Color3.new(1,1,1), TextScaled=true,
        Parent=tab
    }).MouseButton1Click:Connect(function()
        TweenService:Create(tab,TweenInfo.new(.3),{Position=window.Position+UDim2.new(-1,0,0,0)}):Play()
        task.delay(.3,function() tab.Visible=false; content.Visible=true end)
    end)
    create("TextLabel", {
        Size=UDim2.new(1,0,0,30), Position=UDim2.new(0,0,0,0),
        BackgroundTransparency=1, Text=title,
        Font=Enum.Font.Fantasy, TextColor3=Color3.new(0,0,0), TextScaled=true,
        Parent=tab
    })
    return tab
end

local posesTab = makeTab("Позиции персонажа")
local perksTab = makeTab("Преимущества")
local tpTab = makeTab("Телепорт")

-- Открытие вкладки
local function openTab(tab)
    content.Visible=false
    tab.Visible=true
    tab.Position = window.Position + UDim2.new(1,0,0,0)
    TweenService:Create(tab,TweenInfo.new(.3),{Position=window.Position}):Play()
end

posesBtn.MouseButton1Click:Connect(function() openTab(posesTab) end)
perksBtn.MouseButton1Click:Connect(function() openTab(perksTab) end)
tpBtn.MouseButton1Click:Connect(function() openTab(tpTab) end)

-- Пример контента для "Позиции персонажа"
local poseBtn = create("TextButton", {
    Size=UDim2.new(0,140,0,30), Position=UDim2.new(0,80,0,50),
    BackgroundColor3=Color3.fromRGB(230,200,200), Text="Поза 1",
    TextColor3=Color3.new(0,0,0), Font=Enum.Font.Fantasy, TextScaled=true,
    Parent=posesTab
})
local current
poseBtn.MouseButton1Click:Connect(function()
    local char = player.Character or player.CharacterAdded:Wait()
    local hum = char:FindFirstChildOfClass("Humanoid")
    if not hum then return end
    local anim = Instance.new("Animation"); anim.AnimationId="rbxassetid://148840371"
    local track = (hum:FindFirstChildOfClass("Animator") or Instance.new("Animator",hum)):LoadAnimation(anim)
    if current and current.IsPlaying then current:Stop(); current=nil else track:Play(); current=track end
end)
