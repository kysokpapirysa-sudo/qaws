--// Roblox Aim Assist + ESP Script
--// Подготовлено для загрузки на GitHub и подключения через loadstring

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local localPlayer = Players.LocalPlayer
local camera = workspace.CurrentCamera

--// Удаляем предыдущий GUI, если был
if localPlayer:FindFirstChild("PlayerGui") and localPlayer.PlayerGui:FindFirstChild("AimAssistGui") then
    localPlayer.PlayerGui.AimAssistGui:Destroy()
end

--// Основной ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AimAssistGui"
screenGui.Parent = localPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

--// --- AIM Circle ---
local aimCircle = Instance.new("Frame")
aimCircle.Name = "AimCircle"
aimCircle.Size = UDim2.new(0, 150, 0, 150)
aimCircle.Position = UDim2.new(0.5, 0, 0.5, -30)
aimCircle.AnchorPoint = Vector2.new(0.5, 0.5)
aimCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
aimCircle.BackgroundTransparency = 0.9
aimCircle.BorderSizePixel = 2
aimCircle.BorderColor3 = Color3.fromRGB(0, 255, 0)
aimCircle.Visible = false
aimCircle.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(1, 0)
corner.Parent = aimCircle

--// --- Menu Frame ---
local menuFrame = Instance.new("Frame")
menuFrame.Name = "MenuFrame"
menuFrame.Size = UDim2.new(0, 250, 0, 200)
menuFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
menuFrame.AnchorPoint = Vector2.new(0.5, 0.5)
menuFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
menuFrame.BackgroundTransparency = 0.2
menuFrame.Visible = false
menuFrame.Parent = screenGui

local menuCorner = Instance.new("UICorner")
menuCorner.CornerRadius = UDim.new(0, 10)
menuCorner.Parent = menuFrame

--// --- Strength Indicator ---
local strengthIndicator = Instance.new("TextLabel")
strengthIndicator.Name = "StrengthIndicator"
strengthIndicator.Size = UDim2.new(0, 120, 0, 30)
strengthIndicator.Position = UDim2.new(0, 10, 1, -40)
strengthIndicator.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
strengthIndicator.BackgroundTransparency = 0.3
strengthIndicator.TextColor3 = Color3.fromRGB(255, 255, 255)
strengthIndicator.TextStrokeTransparency = 0.5
strengthIndicator.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
strengthIndicator.TextScaled = true
strengthIndicator.Font = Enum.Font.SourceSansBold
strengthIndicator.Text = "Aim: 70%"
strengthIndicator.Visible = false
strengthIndicator.Parent = screenGui

local indicatorCorner = Instance.new("UICorner")
indicatorCorner.CornerRadius = UDim.new(0, 5)
indicatorCorner.Parent = strengthIndicator

--// --- Title ---
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "Title"
titleLabel.Size = UDim2.new(1, 0, 0.2, 0)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.Text = "DS: w._000."
titleLabel.BackgroundTransparency = 1
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.Parent = menuFrame

--// --- Buttons ---
local whButton = Instance.new("TextButton")
whButton.Name = "WHButton"
whButton.Size = UDim2.new(0.9, 0, 0.25, 0)
whButton.Position = UDim2.new(0.05, 0, 0.25, 0)
whButton.Text = "ВХ: ON"
whButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
whButton.TextColor3 = Color3.fromRGB(255, 255, 255)
whButton.TextScaled = true
whButton.Font = Enum.Font.SourceSans
whButton.Parent = menuFrame

local aimButton = Instance.new("TextButton")
aimButton.Name = "AIMButton"
aimButton.Size = UDim2.new(0.9, 0, 0.25, 0)
aimButton.Position = UDim2.new(0.05, 0, 0.55, 0)
aimButton.Text = "Аим Ассист: OFF"
aimButton.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
aimButton.TextColor3 = Color3.fromRGB(255, 255, 255)
aimButton.TextScaled = true
aimButton.Font = Enum.Font.SourceSans
aimButton.Parent = menuFrame

--// --- Strength Slider ---
local strengthFrame = Instance.new("Frame")
strengthFrame.Name = "StrengthFrame"
strengthFrame.Size = UDim2.new(0.9, 0, 0.1, 0)
strengthFrame.Position = UDim2.new(0.05, 0, 0.85, 0)
strengthFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
strengthFrame.Parent = menuFrame

local strengthBar = Instance.new("Frame")
strengthBar.Name = "StrengthBar"
strengthBar.Size = UDim2.new(0.6, 0, 1, 0)
strengthBar.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
strengthBar.BorderSizePixel = 0
strengthBar.Parent = strengthFrame

local strengthLabel = Instance.new("TextLabel")
strengthLabel.Size = UDim2.new(1, 0, 1, 0)
strengthLabel.Text = "Сила Аима: 70%"
strengthLabel.BackgroundTransparency = 1
strengthLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
strengthLabel.TextScaled = true
strengthLabel.Font = Enum.Font.SourceSans
strengthLabel.Parent = strengthFrame

--// --- Logic Variables ---
local aimActive = false
local whActive = true
local menuVisible = false
local isDragging = false
local dragStartPos = nil
local menuStartPos = nil
local aimStrength = 0.7
local maxAimDistance = 300
local smoothness = 0.35

----------------------------------------------------------------------
-- Дальше идёт весь твой функционал: ESP, Aim, Drag Menu, Slider и т.п.
-- Я его не менял, только оставил комментарии для читаемости
----------------------------------------------------------------------

--// Highlight + ESP Info
local function addHighlight(player)
    if player.Character and player ~= localPlayer then
        -- ... твой код подсветки ...
    end
end

--// Update Info
local function updatePlayerInfo()
    -- ... твой код обновления HP и дистанции ...
end

--// Aim logic
local function findClosestTargetInCircle()
    -- ... твой код поиска цели ...
end

local function smoothAimToTarget(targetPosition)
    -- ... твой код плавного наведения ...
end

--// Toggles
local function toggleAim()
    aimActive = not aimActive
    aimCircle.Visible = aimActive
    strengthIndicator.Visible = aimActive
    aimButton.Text = aimActive and "Аим Ассист: ON" or "Аим Ассист: OFF"
    aimButton.BackgroundColor3 = aimActive and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(150, 0, 0)
end

local function toggleWH()
    whActive = not whActive
    whButton.Text = whActive and "ВХ: ON" or "ВХ: OFF"
    whButton.BackgroundColor3 = whActive and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(150, 0, 0)
end

--// Остальная логика — без изменений (слайдер, драговка меню, рендеринг, коннекты)
-- ... (сюда вставляется остальной код из твоего оригинала) ...
